iirc, it is possible to specify -march on a per-function basis using some gcc __attribute__. That way, only the function in question would be optimized, and if the user doesn't specify -4way, everything else should be ok. thanks for this cmake thingyI managed to compile in on linux (uname -a = Linux unimatrix0 2.6.34-gentoo-r6 #1 SMP PREEMPT Wed Aug 25 11:27:50 CEST 2010 x86_64 Intel(R) Core(TM)2 Duo CPU E4500 @ 2.20GHz GenuineIntel GNU/Linux, if anyone wants to know)I just needed to remove some wx libs from the linker command because it was complaining it cannot find them. As it seems to link fine without them, i guess they are not really needed, and you can remove them. I have a patch below:Code:# HG changeset patch# User Pavel Labath <pavelo@centrum.sk># Date 1282931954 -7200# Branch trunk# Node ID 7d943971b02725095ceb0facb1cf457ede3bcfb3# Parent  cb43a9fef788a4e9a9ee54fc96028d404c7fd818Remove unneeded wxgtk libs.diff --git a/CMakeLists.txt b/CMakeLists.txt--- a/CMakeLists.txt+++ b/CMakeLists.txt@@ -7,7 +7,7 @@ set(CMAKE_MODULE_PATH "${CMAKE_SOURCE_DIR}/cmake/" ${CMAKE_MODULE_PATH})  #find required libraries-set(wxWidgets_USE_LIBS base core adv html tiff jpeg png zlib)+set(wxWidgets_USE_LIBS base core adv html) find_package(wxWidgets) include(UsewxWidgets) #This will take care of wx include dirs and defines
